<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Send Message</title>
    <link rel="stylesheet" href="style-form.css">
</head>
<body>
    
    <div class="container">
        <h1>FormSubmit Demo</h1>
        <form target="_blank" action="https://formsubmit.co/c7df12c1a0b58699f5ebebb8317da549"method="POST">
          <div class="form-group">
            <div class="form-row">
              <div class="col">
                <input type="text" name="name" class="form-control" placeholder="Full Name" required>
              </div>
              <div class="col">
                <input type="email" name="email" class="form-control" placeholder="Email Address" required>
              </div>
            </div>
          </div>
          <div class="form-group">
            <textarea placeholder="Your Message" class="form-control" name="message" rows="10" required></textarea>
          </div>
          <button type="submit" class="btn btn-lg btn-dark btn-block">Submit Form</button>
        </form>
      </div>



    <!-----------------------------JAVASCRIPT---------------------------------->


    <script>

        const nameInput = document.querySelector("#name");
        const email = document.querySelector("#email");
        const message = document.querySelector("#message");
        const success = document.querySelector("#success");
        const errorNodes = document.querySelectorAll(".error");

    function validateForm(){

        clearMessages();
        let errorFlag = false;

        if(nameInput.value.length < 1){
            errorNodes[0].innerText = "Name cannot be blank";
            nameInput.classList.add("error-border");
            errorFlag = true;
        }

        if(!emailIsValid(email.value)){
            errorNodes[1].innerText = "Invalid Email Address";
            email.classList.add("error-border");
            errorFlag = true;
        }

        if (message.value.length < 1){
            errorNodes[2].innerText = "Please Enter message";
            message.classList.add("error-border");
            errorFlag = true;
        }

        if(!errorFlag){
            success.innerText = "Success!";
        }
    }


    function clearMessages(){
        for(let i = 0; i < errorNodes.length; i++){
            errorNodes[i].innerText = "";
        }

        nameInput.classList.remove('error-border');
        email.classList.remove('error-border');
        message.classList.remove('error-border');
    }

    function emailIsValid(email){
        let pattern = /\S+@\S+\.\S+/;
        return pattern.test(email);
    }

    </script>


</body>
</html>